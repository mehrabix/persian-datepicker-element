<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Persian Date Picker Element - Theme Switcher</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #f8fafc;
      color: #1e293b;
      line-height: 1.5;
      direction: rtl;
      transition: background-color 0.3s, color 0.3s;
    }

    body.dark {
      background-color: #0f172a;
      color: #e2e8f0;
    }

    h1 {
      font-size: 28px;
      margin-bottom: 24px;
      color: #0f172a;
      transition: color 0.3s;
    }

    body.dark h1 {
      color: #f8fafc;
    }

    h2 {
      font-size: 20px;
      margin: 32px 0 16px;
      color: #334155;
      transition: color 0.3s;
    }

    body.dark h2 {
      color: #cbd5e1;
    }

    p {
      margin-bottom: 16px;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
    }

    .theme-container {
      margin-bottom: 40px;
      background-color: #fff;
      padding: 24px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      transition: background-color 0.3s, box-shadow 0.3s;
    }

    body.dark .theme-container {
      background-color: #1e293b;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }

    .pickers-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 24px;
      margin-top: 20px;
    }

    .picker-container {
      margin-bottom: 20px;
    }

    .theme-switch-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 32px;
    }

    .theme-switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 30px;
    }

    .theme-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #cbd5e1;
      transition: .4s;
      border-radius: 30px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 22px;
      width: 22px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: #0891b2;
    }

    input:checked + .slider:before {
      transform: translateX(30px);
    }

    .color-picker-container {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 24px;
    }

    .color-picker-label {
      min-width: 120px;
      font-weight: 500;
    }

    input[type="color"] {
      padding: 0;
      border: none;
      border-radius: 4px;
      height: 30px;
      width: 50px;
      cursor: pointer;
    }

    .theme-buttons {
      display: flex;
      gap: 10px;
      margin-bottom: 24px;
      flex-wrap: wrap;
    }

    .theme-button {
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      font-family: inherit;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s, transform 0.2s;
    }

    .theme-button:hover {
      transform: translateY(-2px);
    }

    .theme-button:active {
      transform: translateY(0);
    }

    .theme-button.blue {
      background-color: #3b82f6;
      color: white;
    }

    .theme-button.green {
      background-color: #10b981;
      color: white;
    }

    .theme-button.purple {
      background-color: #8b5cf6;
      color: white;
    }

    .theme-button.orange {
      background-color: #f97316;
      color: white;
    }

    .theme-button.dark {
      background-color: #1e293b;
      color: white;
    }

    .theme-button.minimal {
      background-color: #f8fafc;
      color: #0f172a;
      border: 1px solid #cbd5e1;
    }

    .reset-button {
      background-color: #ef4444;
      color: white;
    }

    pre {
      background-color: #f1f5f9;
      padding: 16px;
      border-radius: 6px;
      overflow-x: auto;
      font-size: 14px;
      margin: 20px 0;
      transition: background-color 0.3s;
    }

    body.dark pre {
      background-color: #1e1e2f;
    }

    code {
      font-family: 'Fira Code', monospace;
    }

    .link {
      display: inline-block;
      margin-top: 20px;
      background-color: #0891b2;
      color: white;
      padding: 8px 16px;
      border-radius: 4px;
      text-decoration: none;
      font-weight: 500;
      transition: background-color 0.2s;
    }

    .link:hover {
      background-color: #0e7490;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Persian Date Picker Element - Theme Switcher</h1>
    <p>This example demonstrates how to dynamically change the appearance of the Persian Date Picker Element using CSS variables.</p>
    
    <div class="theme-container">
      <div class="theme-switch-container">
        <h2 style="margin: 0;">Dark Mode</h2>
        <label class="theme-switch">
          <input type="checkbox" id="theme-toggle">
          <span class="slider"></span>
        </label>
      </div>
      
      <h2>Preset Themes</h2>
      <div class="theme-buttons">
        <button class="theme-button blue" data-theme="blue">Blue Theme</button>
        <button class="theme-button green" data-theme="green">Green Theme</button>
        <button class="theme-button purple" data-theme="purple">Purple Theme</button>
        <button class="theme-button orange" data-theme="orange">Orange Theme</button>
        <button class="theme-button dark" data-theme="dark">Dark Theme</button>
        <button class="theme-button minimal" data-theme="minimal">Minimal</button>
        <button class="theme-button reset-button" data-theme="reset">Reset</button>
      </div>
      
      <h2>Custom Colors</h2>
      <div class="color-picker-container">
        <span class="color-picker-label">Primary Color:</span>
        <input type="color" id="primary-color" value="#0891b2">
      </div>
      
      <div class="color-picker-container">
        <span class="color-picker-label">Border Radius:</span>
        <input type="range" id="border-radius" min="0" max="20" value="8" step="1">
        <span id="border-radius-value">8px</span>
      </div>
      
      <h2>Result</h2>
      <div class="pickers-grid">
        <div class="picker-container">
          <jalali-date-picker id="theme-picker" placeholder="انتخاب تاریخ"></jalali-date-picker>
        </div>
      </div>
      
      <pre><code>// Apply theme dynamically
const picker = document.getElementById('theme-picker');

// Method 1: Apply individual CSS variables
picker.style.setProperty('--jdp-primary', '#3b82f6');
picker.style.setProperty('--jdp-border-radius', '0.75rem');

// Method 2: Apply a complete theme by class
picker.className = 'dark-theme'; // After defining CSS rules for .dark-theme</code></pre>
    </div>
    
    <a href="index.html" class="link">← Back to Basic Examples</a>
    <a href="customization.html" class="link" style="margin-left: 10px;">View More Styling Examples →</a>
  </div>

  <script src="../dist/jalali-date-picker.js"></script>
  <script>
    // Get references
    const picker = document.getElementById('theme-picker');
    const themeToggle = document.getElementById('theme-toggle');
    const primaryColorPicker = document.getElementById('primary-color');
    const borderRadiusSlider = document.getElementById('border-radius');
    const borderRadiusValue = document.getElementById('border-radius-value');
    const themeButtons = document.querySelectorAll('.theme-button');
    
    // Theme presets
    const themes = {
      blue: {
        '--jdp-primary': '#3b82f6',
        '--jdp-primary-hover': '#2563eb',
        '--jdp-ring': '#60a5fa',
        '--jdp-border-radius': '0.5rem'
      },
      green: {
        '--jdp-primary': '#10b981',
        '--jdp-primary-hover': '#059669',
        '--jdp-ring': '#34d399',
        '--jdp-font-size': '15px',
        '--jdp-border-radius': '0.75rem'
      },
      purple: {
        '--jdp-primary': '#8b5cf6',
        '--jdp-primary-hover': '#7c3aed',
        '--jdp-ring': '#a78bfa',
        '--jdp-input-padding-y': '12px',
        '--jdp-input-padding-x': '16px',
        '--jdp-border-radius': '0.375rem'
      },
      orange: {
        '--jdp-primary': '#f97316',
        '--jdp-primary-hover': '#ea580c',
        '--jdp-ring': '#fb923c',
        '--jdp-border-radius': '0',
        '--jdp-input-border-width': '2px',
        '--jdp-input-border-color': '#fdba74',
        '--jdp-input-focus-ring-width': '0'
      },
      dark: {
        '--jdp-primary': '#4f46e5',
        '--jdp-primary-hover': '#6366f1',
        '--jdp-primary-foreground': '#ffffff',
        '--jdp-background': '#1e1e2f',
        '--jdp-foreground': '#e2e8f0',
        '--jdp-muted': '#334155',
        '--jdp-muted-foreground': '#94a3b8',
        '--jdp-border': '#475569',
        '--jdp-ring': '#4f46e5',
        '--jdp-calendar-shadow': '0px 10px 30px -5px rgba(2, 6, 23, 0.5)',
        '--jdp-day-hover-bg': '#334155',
        '--jdp-input-border-color': '#475569',
        '--jdp-day-selected-bg': '#4f46e5'
      },
      minimal: {
        '--jdp-primary': '#000000',
        '--jdp-primary-hover': '#333333',
        '--jdp-primary-foreground': '#ffffff',
        '--jdp-border': '#e2e8f0',
        '--jdp-ring': '#000000',
        '--jdp-border-radius': '2px',
        '--jdp-input-border-width': '1px',
        '--jdp-input-border-radius': '2px',
        '--jdp-day-cell-border-radius': '0',
        '--jdp-nav-button-border-radius': '0',
        '--jdp-day-selected-bg': '#000000',
        '--jdp-day-today-border-color': '#000000',
        '--jdp-calendar-shadow': '0 4px 6px rgba(0, 0, 0, 0.1)'
      }
    };
    
    // Default theme values
    const defaultTheme = {
      '--jdp-primary': '#0891b2',
      '--jdp-primary-hover': '#0e7490',
      '--jdp-primary-foreground': '#ffffff',
      '--jdp-background': '#ffffff',
      '--jdp-foreground': '#1e293b',
      '--jdp-muted': '#f1f5f9',
      '--jdp-muted-foreground': '#64748b',
      '--jdp-border': '#e2e8f0',
      '--jdp-ring': '#0284c7',
      '--jdp-border-radius': '0.5rem',
      '--jdp-input-border-width': '1px',
      '--jdp-input-focus-ring-width': '2px',
      '--jdp-day-cell-border-radius': '0.5rem',
      '--jdp-nav-button-border-radius': '0.5rem',
      '--jdp-calendar-shadow': '0px 10px 38px -10px rgba(22, 23, 24, 0.35), 0px 10px 20px -15px rgba(22, 23, 24, 0.2)'
    };
    
    // Apply theme function
    function applyTheme(themeValues) {
      Object.entries(themeValues).forEach(([property, value]) => {
        picker.style.setProperty(property, value);
      });
      
      // Update controls to match theme
      if (themeValues['--jdp-primary']) {
        primaryColorPicker.value = themeValues['--jdp-primary'];
      }
      
      if (themeValues['--jdp-border-radius']) {
        const radiusValue = parseInt(themeValues['--jdp-border-radius']);
        if (!isNaN(radiusValue)) {
          borderRadiusSlider.value = radiusValue;
          borderRadiusValue.textContent = `${radiusValue}px`;
        }
      }
    }
    
    // Handle theme toggle for dark mode
    themeToggle.addEventListener('change', () => {
      document.body.classList.toggle('dark', themeToggle.checked);
      
      // Get the current active theme (if one is set)
      let currentThemeStyles = {};
      const activePrimaryColor = picker.style.getPropertyValue('--jdp-primary');
      if (activePrimaryColor) {
        // Save some of the current theme settings that we want to preserve
        currentThemeStyles = {
          '--jdp-primary': activePrimaryColor,
          '--jdp-primary-hover': picker.style.getPropertyValue('--jdp-primary-hover') || adjustColor(activePrimaryColor, -20),
          '--jdp-ring': picker.style.getPropertyValue('--jdp-ring') || activePrimaryColor,
          '--jdp-border-radius': picker.style.getPropertyValue('--jdp-border-radius'),
          '--jdp-input-border-radius': picker.style.getPropertyValue('--jdp-input-border-radius'),
          '--jdp-day-cell-border-radius': picker.style.getPropertyValue('--jdp-day-cell-border-radius'),
          '--jdp-font-size': picker.style.getPropertyValue('--jdp-font-size'),
          '--jdp-input-border-width': picker.style.getPropertyValue('--jdp-input-border-width')
        };
      }
      
      if (themeToggle.checked) {
        // Apply dark theme base styles but preserve the current theme's primary colors and other settings
        const darkModeWithCurrentTheme = {
          // Dark mode background styles
          '--jdp-background': themes.dark['--jdp-background'],
          '--jdp-foreground': themes.dark['--jdp-foreground'],
          '--jdp-muted': themes.dark['--jdp-muted'],
          '--jdp-muted-foreground': themes.dark['--jdp-muted-foreground'],
          '--jdp-border': themes.dark['--jdp-border'],
          '--jdp-input-border-color': themes.dark['--jdp-input-border-color'],
          '--jdp-calendar-shadow': themes.dark['--jdp-calendar-shadow'],
          '--jdp-day-hover-bg': themes.dark['--jdp-day-hover-bg'],
          
          // Preserve current theme colors if they exist
          ...currentThemeStyles
        };
        
        applyTheme(darkModeWithCurrentTheme);
      } else {
        // If we have current theme styles, apply only those, otherwise apply default
        if (Object.keys(currentThemeStyles).length > 0) {
          applyTheme({...defaultTheme, ...currentThemeStyles});
        } else {
          applyTheme(defaultTheme);
        }
      }
    });
    
    // Handle primary color changes
    primaryColorPicker.addEventListener('input', () => {
      picker.style.setProperty('--jdp-primary', primaryColorPicker.value);
      
      // Generate a darker hover color
      const hoverColor = adjustColor(primaryColorPicker.value, -20);
      picker.style.setProperty('--jdp-primary-hover', hoverColor);
    });
    
    // Handle border radius changes
    borderRadiusSlider.addEventListener('input', () => {
      const value = borderRadiusSlider.value;
      borderRadiusValue.textContent = `${value}px`;
      picker.style.setProperty('--jdp-border-radius', `${value}px`);
    });
    
    // Handle theme button clicks
    themeButtons.forEach(button => {
      button.addEventListener('click', () => {
        const themeName = button.dataset.theme;
        
        if (themeName === 'reset') {
          applyTheme(defaultTheme);
          document.body.classList.remove('dark');
          themeToggle.checked = false;
        } else {
          const theme = themes[themeName];
          if (theme) {
            // If dark mode is enabled, we need to preserve dark mode background styles
            if (themeToggle.checked && themeName !== 'dark') {
              // Apply dark theme but with the selected theme's primary colors
              const darkModeWithTheme = {
                // Dark mode background styles
                '--jdp-background': themes.dark['--jdp-background'],
                '--jdp-foreground': themes.dark['--jdp-foreground'],
                '--jdp-muted': themes.dark['--jdp-muted'],
                '--jdp-muted-foreground': themes.dark['--jdp-muted-foreground'],
                '--jdp-border': themes.dark['--jdp-border'],
                '--jdp-input-border-color': themes.dark['--jdp-input-border-color'],
                '--jdp-calendar-shadow': themes.dark['--jdp-calendar-shadow'],
                '--jdp-day-hover-bg': themes.dark['--jdp-day-hover-bg'],
                
                // Selected theme's primary colors and other specific settings
                '--jdp-primary': theme['--jdp-primary'],
                '--jdp-primary-hover': theme['--jdp-primary-hover'],
                '--jdp-primary-foreground': theme['--jdp-primary-foreground'] || '#ffffff',
                '--jdp-ring': theme['--jdp-ring'] || theme['--jdp-primary'],
                '--jdp-border-radius': theme['--jdp-border-radius'],
                '--jdp-input-border-radius': theme['--jdp-input-border-radius'],
                '--jdp-day-cell-border-radius': theme['--jdp-day-cell-border-radius'],
                '--jdp-nav-button-border-radius': theme['--jdp-nav-button-border-radius'],
                '--jdp-font-size': theme['--jdp-font-size'],
                '--jdp-input-border-width': theme['--jdp-input-border-width'],
                '--jdp-input-padding-x': theme['--jdp-input-padding-x'],
                '--jdp-input-padding-y': theme['--jdp-input-padding-y']
              };
              
              applyTheme(darkModeWithTheme);
            } else {
              applyTheme(theme);
            }
            
            // If it's the dark theme, enable the toggle
            if (themeName === 'dark') {
              document.body.classList.add('dark');
              themeToggle.checked = true;
            } else if (!themeToggle.checked) {
              document.body.classList.remove('dark');
            }
          }
        }
      });
    });
    
    // Helper function to adjust color brightness
    function adjustColor(color, amount) {
      return '#' + color.replace(/^#/, '')
        .match(/.{2}/g)
        .map(c => {
          const num = parseInt(c, 16);
          const adjusted = Math.max(0, Math.min(255, num + amount));
          return adjusted.toString(16).padStart(2, '0');
        })
        .join('');
    }
    
    // Initialize with default theme
    applyTheme(defaultTheme);
  </script>
</body>
</html> 