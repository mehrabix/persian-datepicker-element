(function(r,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(r=typeof globalThis<"u"?globalThis:r||self,t(r.VuePersianDatepicker={},r.Vue))})(this,function(r,t){"use strict";const u=["value","placeholder","format","show-holidays","rtl","disabled","min","max","holiday-types"],n=t.defineComponent({__name:"PersianDatepicker",props:{modelValue:{type:[Array,String],default:void 0},placeholder:{type:String,default:""},format:{type:String,default:"YYYY/MM/DD"},showHolidays:{type:Boolean,default:!0},rtl:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},min:{type:Array,default:void 0},max:{type:Array,default:void 0},holidayTypes:{type:String,default:void 0},className:{type:String,default:""},style:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(i,{expose:m,emit:f}){const l=i,d=f,y=t.ref(null),a=t.ref(null),h=t.computed(()=>l.modelValue?Array.isArray(l.modelValue)?l.modelValue.join("/"):String(l.modelValue):""),p=e=>{const o=e.detail;d("update:modelValue",o.jalali),d("change",o)};return t.watch(()=>l.modelValue,e=>{t.nextTick(()=>{if(a.value)if(Array.isArray(e)&&e.length===3)try{a.value.setValue(e[0],e[1],e[2])}catch(o){console.error("Failed to set value:",o)}else typeof e=="string"&&a.value.setAttribute("value",e)})},{immediate:!1}),t.watch([()=>l.min,()=>l.max],([e,o])=>{t.nextTick(()=>{a.value&&(e&&(a.value.min=e),o&&(a.value.max=o))})}),t.onMounted(()=>{t.nextTick(()=>{if(l.modelValue&&a.value)if(Array.isArray(l.modelValue)&&l.modelValue.length===3)try{a.value.setValue(l.modelValue[0],l.modelValue[1],l.modelValue[2])}catch(e){console.error("Failed to set initial value:",e)}else typeof l.modelValue=="string"&&a.value.setAttribute("value",l.modelValue)})}),m({getValue:()=>{var e;return(e=a.value)==null?void 0:e.getValue()},setValue:(e,o,V)=>{var s;(s=a.value)==null||s.setValue(e,o,V)},open:()=>{var e;return(e=a.value)==null?void 0:e.open()},close:()=>{var e;return(e=a.value)==null?void 0:e.close()}}),(e,o)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"container",ref:y,class:t.normalizeClass(i.className),style:t.normalizeStyle(i.style)},[t.createElementVNode("persian-datepicker-element",{ref_key:"elementRef",ref:a,value:h.value,placeholder:i.placeholder,format:i.format,"show-holidays":i.showHolidays,rtl:i.rtl,disabled:i.disabled,min:i.min,max:i.max,"holiday-types":i.holidayTypes,onChange:p},null,40,u)],6))}}),c={PersianDatepicker:n,install:i=>{i.component("PersianDatepicker",n)}};r.PersianDatepicker=n,r.default=c,Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
